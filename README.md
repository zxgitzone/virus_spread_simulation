# virus_spread_simulation
## 1 代码结构
1.Person.java：将人抽象为一个类，包含状态（0-正常 1-潜伏期 2-感染 3-隔离）、位置坐标、潜伏期、响应时间属性和相应的操作函数。<br>
2.pl.java：全局类。包含一个对象数组（包含400个Person对象）和三个变量（分别记录潜伏期人数、发病人数和隔离人数）。<br>
3.display.java：实现人员流动和状态的变化，绘制可视化效果。<br>
4.display2.java：作用同display.java，服务于封城措施的模拟。<br>
5.main.java：主函数，实现人员初始化和开启程序。<br>
6.main2.java：作用同main.java，服务于封城措施的模拟。<br>

## 2 代码思路
### 2.1 基本思路
1.`区域划定`：创建一个600*400的区域，将其看作一个整数格点的二维数组，每个人员每个时刻处于其中一个位置。<br>
2.`初始化`：随机产生区域内的400个位置点，赋给400个人员的位置。随机选取10个人为发病者，即状态2。<br>
3.`人员流动`：假设该区域中每个人在每一时刻的位置移动是随机的，每一次为每一个人分别产生x和y方向上的一定范围内的随机步长，判断若超出边界，则重新产生直至位于边界内。移动人员至新的位置。<br>
4.`感染情况变化`：假设发病者和潜伏期患者对他人的感染是一个定值概率，且发病者的传播概率比潜伏期患者的传播概率大。在这里规定传播范围是以患者为中心的一个方形区域，因此减少了圆形传播范围的浮点数计算，但并不影响最终规律的获取。每次人群移动后，都要更新所有人员的感染情况。<br>
5.`时间模拟`：利用java中的定时器模拟天数的变化，每1s就认为经过了1天。正常人被感染后首先进入潜伏期状态；每经过1天潜伏期增加1，直至潜伏期满变为发病者；每经过1天救治时间增加1，直至救治时间满被隔离。<br>
### 2.2 模拟防控措施
1.`戴口罩`：由于患者对传播范围的正常人的感染存在定值概率，所以通过降低传播概率可以模拟戴口罩的情况。<br>
2.`隔离`：若发病者自发病日开始至响应时间满后进入隔离状态，即状态3，此时发病者不对他人造成感染。所以通过进入状态3可以模拟隔离的情况。<br>
3.`响应时间`：与2.2.2相对应，通过改变响应时间可以模拟收治患者时间不同的情况。<br>
4.`封城`：将划定区域分为两个独立的区域，分别在两个区域内进行人员流动和更新状态；将独立的区域加入一条连通路径，再次进行实验过程。所以通过区域独立和加入连同路径可以模拟是否封城的情况。<br>

## 3 运行结果
分别采取不同防控措施，与不采取任何措施的情况进行对比，得到如下的实验结果：<br>
1.戴口罩降低了病毒的传播概率，可以明显地延长感染人数达到峰值的时间，减缓传播速率，但是仍然无法阻止所有人被感染。<br>
2.本实验中，隔离是最有效的防控措施，缩短了感染人数达到峰值的时间并且大部分人未被感染而处于健康状态。<br>
3.在采取隔离措施的情况下，收治响应时间对感染人数达到峰值时间有不定的影响，但是较短的响应时间会极大地减少感染人数的峰值。<br>
4.采取封城措施会延长感染人数达到峰值的时间，减缓传播速率。同样地，如果不加以其他措施，所有人最终将会被感染。<br>

## 4 综合性建议
在采取封城、病人隔离、缩短救治响应时间措施的情况下，个人佩戴口罩，将极大地减少疫情感染人数和缩短疫情传播时间，有助于疫情的控制。<br>
